<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Zap for Drivers</title>
    </head>
    <body onload="getMessage()">
        <h1>Seja bem vindo ao Zap for Drivers!</h1>
        <form name="form" action="https://wa.me" method="get" onsubmit="change()" >
            <input type="text" placeholder="00 000000000" name="phone" required>
            <input type="text" placeholder="Digite sua mensagem ao comprador" name="text" onfocusout="saveMessage()">
            <input type="submit" value="Iniciar conversa">
            <input type="button" value="Limpar" onclick="clearing()">
        </form>
        <p id="demo"></p>
        <script>
            function change(){
                const number = document.forms.form.phone.value;
                document.forms.form.phone.value = "55" + number;
            };
            function clearing(){
                document.forms.form.phone.value = "";
            };
            function saveMessage(){
                localStorage.setItem("message", document.forms.form.text.value);
            };
            function getMessage(){
                if (localStorage.getItem("message")){
                    document.forms.form.text.value = localStorage.getItem("message");
                };
            };
            document.getElementById("demo").innerHTML = localStorage.getItem("message");
        </script>
    </body>
</html>